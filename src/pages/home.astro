---
import Topbar from "src/layouts/Topbar.astro";
import Layout from "../layouts/Layout.astro";
import Header from "src/layouts/Header.astro";
import ButtonUrl from "src/components/ButtonUrl"

// Ventas - Facturación
import Componente_meta_venta from './home/meta_venta';
import Componente_metas_venta_gnrl from './home/metas_venta_gnrl'
import Componente_graphic_venta from './home/graphic_venta'
import Componente_cartera_venta from './home/cartera_venta'
// Cobranza
import Componente_meta_cobranza from './home/meta_cobr';
import Componente_metas_cobr_gnrl from './home/metas_cobr_gnrl'
import Componente_graphic_cobr from './home/graphic_cobr'
import Componente_cobranza_cxc from './home/cobranza_cxc'
// Asesores
import Componente_table_asesor from './home/table_asesor'
import Componente_table_days_detail from './home/table_days_detail'
import Componente_graphic_analysis from './home/graphic_analysis'

const containers_colors = "#fbfbfb";
const containers = "flex";
const subcontainers = `flex flex-col m-2 p-2 w-[calc(100%-1rem)] border-1 border-[var(--colors-04)]/25 max-w-full shadow-xl rounded-md bg-[${containers_colors}]`;
const containers_titles = "font-rFont font-bold text-[var(--colors-03)] text-[1.25rem]";

const containers_width = {
  'c_1-1':        'w-1/1 md:w-1/1 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_1-2':        'w-1/1 md:w-1/2 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_1-3':        'w-1/1 md:w-1/2 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_1-4':        'w-1/1 md:w-1/1 lg:w-1/2 xl:w-1/1 2xl:w-1/1',
  'c_1-4_grid':   'grid-cols-2 md:grid-cols-2 lg:grid-cols-4',
  'c_2-1':        'w-1/1 md:w-1/1 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_2-2':        'w-1/1 md:w-1/2 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_2-3':        'w-1/1 md:w-1/2 lg:w-1/2 xl:w-1/3 2xl:w-1/3',
  'c_2-4':        'w-1/1 md:w-1/2 lg:w-1/2 xl:w-1/1 2xl:w-1/1',
  'c_3-1':        'w-1/1 md:w-1/2 lg:w-1/3 xl:w-1/3 2xl:w-1/3',
  'c_3-2':        'w-1/1 md:w-1/2 lg:w-2/3 xl:w-2/3 2xl:w-2/3',
  'c_3-3':        'w-1/1 md:w-1/2 lg:w-1/3 xl:w-1/3 2xl:w-1/3',
  'c_3-4':        'w-1/1 md:w-1/2 lg:w-2/3 xl:w-2/3 2xl:w-2/3',
};
---

<Layout title="Inicio - CLO">
    <!-- Header -->
  <Header />
  <div class="flex flex-col">
    <!-- Topbar -->
    <div>
      <Topbar />
      <div class="hr-custom"></div>
    </div>

    <!-- Content -->
    <div id="content-index" class="w-full">
      <!-- Container #1: Ventas -->
      <div id="container-ventas">
        <div class="w-full flex flex-wrap">
          <!-- Subcontainer 1.1: Anvace de la meta -->
          <div class={`${containers} ${containers_width['c_1-1']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Avance de la meta (ventas)
              </p>
              <div class="flex flex-col justify-center items-center h-full">
                <Componente_meta_venta client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 1.2: Meta de ventas general -->
          <div class={`${containers} ${containers_width['c_1-2']}`}>
            <div class={`${subcontainers}`}>
              <div class="flex flex-row items-center justify-center">
                <p class={`${containers_titles} w-1/2`}>
                  Meta de ventas general
                </p>
                <div class="flex justify-end items-center w-1/2 space-x-2">
                  <ButtonUrl url={"/facturacion"} />
                </div>
              </div>
              <div class="flex justify-center items-center h-[40dvh] w-auto">
                <Componente_metas_venta_gnrl client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 1.3: Ventas (gráfico) -->
          <div class={`${containers} ${containers_width['c_1-3']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Gráfico de ventas
              </p>
              <div class="flex justify-center items-center h-[40dvh]">
                <Componente_graphic_venta client:load >
              </div>
            </div>
          </div>

          <!-- Subcontainer 1.4: Cartera -->
          <div class={`${containers} ${containers_width['c_1-4']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Cartera
              </p>
              <div class="flex h-full w-full justify-center items-center p-4">
                <Componente_cartera_venta client:load />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Container #2: Cobranza -->
      <div id="container-cobranza">
        <div class="w-full flex flex-wrap">
          <!-- Subcontainer 2.1: Avance de la meta -->
          <div class={`${containers} ${containers_width['c_2-1']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Avance de la meta (cobranza)
              </p>
              <div class="flex flex-col justify-center items-center h-full">
                <Componente_meta_cobranza client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 2.2: Meta de cobranza general -->
          <div class={`${containers} ${containers_width['c_2-2']}`}>
            <div class={`${subcontainers}`}>
              <div class='flex flex-row items-center justify-center'>
                <p class={`${containers_titles}`}>
                  Meta de cobranza general
                </p>
                <div class="flex justify-end items-center w-1/2 space-x-2">
                  <ButtonUrl url={"/cobranza"} />
                </div>
              </div>
              <div class="flex justify-center items-center h-[40dvh] w-auto">
                <Componente_metas_cobr_gnrl client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 2.3: Cobranza (gráfico) -->
          <div class={`${containers} ${containers_width['c_2-3']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Gráfico de cobranza
              </p>
              <div class="flex justify-center items-center h-[40dvh]">
                <Componente_graphic_cobr client:load >
              </div>
            </div>
          </div>

          <!-- Subcontainer 2.4: Cobranza por día -->
          <div class={`${containers} ${containers_width['c_2-4']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles} px-1 pb-2`}>
                Cobranza por día
              </p>
              <div class="flex h-full justify-start items-center w-full">
                <Componente_cobranza_cxc client:load />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Container #3: Asesores -->
      <div id="container-asesores">
        <div class="w-full flex flex-wrap">
          <!-- Subcontainer 3.1: % -->
          <div class={`${containers} ${containers_width['c_3-1']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles} px-1 pb-2`}>
                %
              </p>
            </div>
          </div>

          <!-- Subcontainer 3.2: Detalle por asesores -->
          <div class={`${containers} ${containers_width['c_3-2']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles} px-1 pb-2`}>
                Detalles por asesor
              </p>
              <div class="flex h-full w-full justify-center items-center">
                <Componente_table_asesor client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 3.3: Detalle por día -->
          <div class={`${containers} ${containers_width['c_3-3']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles} px-1 pb-2`}>
                Detalles por día
              </p>
              <div class="flex h-full w-full justify-center items-center">
                <Componente_table_days_detail client:load />
              </div>
            </div>
          </div>

          <!-- Subcontainer 3.4: Análisis gráfico  -->
          <div class={`${containers} ${containers_width['c_3-4']}`}>
            <div class={`${subcontainers}`}>
              <p class={`${containers_titles}`}>
                Análisis gráfico
              </p>
              <div class="flex justify-center items-center h-[40dvh]">
                <Componente_graphic_analysis client:load >
              </div>
            </div>
          </div>
          
        </div>  
      </div>
    </div>
  </div>
</Layout>

<!-- 
  c1_1: http://192.168.0.40:8000/api/manager/stadistic/sum/
  c1_2: http://192.168.0.40:8000/api/manager/stadistic/

-->